{
	"info": {
		"_postman_id": "paybridge-api-collection",
		"name": "PayBridge API Collection",
		"description": "Complete API collection for PayBridge payment gateway",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Merchant Signup",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"My Test Shop\",\n  \"email\": \"test@example.com\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/signup",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"signup"
							]
						}
					},
					"response": []
				},
				{
					"name": "Merchant Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/auth/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"profile"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Payments",
			"item": [
				{
					"name": "Create Payment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"amount\": 1500,\n  \"currency\": \"PKR\",\n  \"order_id\": \"ORD-{{$randomInt}}\",\n  \"metadata\": {\n    \"customer_name\": \"John Doe\",\n    \"product\": \"Test Product\"\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/payments/create",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"payments",
								"create"
							]
						}
					},
					"response": []
				},
				{
					"name": "Confirm Payment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"payment_id\": \"{{payment_id}}\",\n  \"stripe_payment_intent_id\": \"{{stripe_payment_intent_id}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/payments/confirm",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"payments",
								"confirm"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Payment by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{api_key}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/payments/{{payment_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"payments",
								"{{payment_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Payments",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{api_key}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/payments?page=1&limit=10",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"payments"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Payments by Status",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{api_key}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/payments?status=succeeded&page=1&limit=10",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"payments"
							],
							"query": [
								{
									"key": "status",
									"value": "succeeded"
								},
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Card Payments",
			"item": [
				{
					"name": "Create Payment Method",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"card_number\": \"4242424242424242\",\n  \"exp_month\": 12,\n  \"exp_year\": 2025,\n  \"cvc\": \"123\",\n  \"cardholder_name\": \"John Doe\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/cards/create-payment-method",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"cards",
								"create-payment-method"
							]
						}
					},
					"response": []
				},
				{
					"name": "Confirm Payment with Card",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"payment_id\": \"{{payment_id}}\",\n  \"card_number\": \"4242424242424242\",\n  \"exp_month\": 12,\n  \"exp_year\": 2025,\n  \"cvc\": \"123\",\n  \"cardholder_name\": \"John Doe\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/cards/confirm-with-card",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"cards",
								"confirm-with-card"
							]
						}
					},
					"response": []
				},
				{
					"name": "Confirm Payment with Method",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"payment_id\": \"{{payment_id}}\",\n  \"payment_method_id\": \"{{payment_method_id}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/cards/confirm-with-method",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"cards",
								"confirm-with-method"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Test Cards",
			"item": [
				{
					"name": "Confirm Test Visa",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"payment_id\": \"{{payment_id}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/test/confirm-visa",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"test",
								"confirm-visa"
							]
						}
					},
					"response": []
				},
				{
					"name": "Confirm Test Mastercard",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"payment_id\": \"{{payment_id}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/test/confirm-mastercard",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"test",
								"confirm-mastercard"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Refunds",
			"item": [
				{
					"name": "Create Full Refund",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"payment_id\": \"{{payment_id}}\",\n  \"reason\": \"requested_by_customer\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/refunds/create",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"refunds",
								"create"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Partial Refund",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"payment_id\": \"{{payment_id}}\",\n  \"amount\": 500,\n  \"reason\": \"partial_refund_requested\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/refunds/create",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"refunds",
								"create"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Health Check",
			"item": [
				{
					"name": "Server Health",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/health",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"health"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:3000"
		},
		{
			"key": "jwt_token",
			"value": ""
		},
		{
			"key": "api_key",
			"value": ""
		},
		{
			"key": "payment_id",
			"value": ""
		},
		{
			"key": "stripe_payment_intent_id",
			"value": ""
		},
		{
			"key": "stripe_secret_key",
			"value": "YOUR_STRIPE_SECRET_KEY_HERE"
		},
		{
			"key": "stripe_publishable_key",
			"value": "YOUR_STRIPE_PUBLISHABLE_KEY_HERE"
		},
		{
			"key": "payment_method_id",
			"value": ""
		}
	]
}